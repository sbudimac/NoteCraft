@page "/notes"

<h3>Your Notes</h3>
<hr />

@if (UserNotes.Any())
{
    string currentTitle = "";
    <div class="row">
        @foreach (var note in UserNotes)
        {
            currentTitle = note.Title;
            <div class="card col-md-3 col-5">
                <div class="card-header">
                    <h5>@note.Title</h5>
                </div>
                <div class="card-body" style="@SetImportance(note.NoteImportance.ToString())">
                    <p class="card-title">
                        @note.Description
                    </p>
                </div>
                <div class="card-footer">
                    <span class="add-btn oi oi-plus" aria-hidden="true" data-bs-toggle="modal" data-bs-target="#staticBackdrop" @onclick="() => Share_Note(note.Id)" style="float:left;margin-right:5px;"></span>
                    <input class="btn btn-primary" type="button" value="View" @onclick="() => Open(note.Id)" style="float:left;margin-right:5px;">
                    <input class="btn btn-primary" type="button" value="Edit" @onclick="() => Update_Note(note.Id)" style="float:left;">
                    <input class="btn btn-danger" type="button" value="Delete" @onclick="() => Delete_Note(note.Id)" style="float:right;">
                </div>
            </div>
        }
    </div>

    <Confirm @ref="DeleteConfirmation" ConfirmationChanged="Confirm_Delete"
            ConfirmationMessage=@($"Are you sure you want to delete note titled {currentTitle}?")>
    </Confirm>

    <Share @ref="SharingDialog" SharingChanged="Confirm_Share">
    </Share>
}
else
{
    <h5>You currently have no notes</h5>
}